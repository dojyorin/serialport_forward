name: Test
"on":
    push:
        branches:
            - dev
        paths-ignore:
            - .git*
            - '**.md'
    pull_request:
        branches:
            - master
            - dev
        paths-ignore:
            - .git*
            - '**.md'
jobs:
    test:
        name: 'Test: ${{matrix.os}}'
        runs-on: ${{matrix.os}}
        strategy:
            fail-fast: true
            matrix:
                os:
                    - ubuntu-latest
                    - macos-latest
                    - windows-latest
                include:
                    - rid: linux-x64
                      os: ubuntu-latest
                    - rid: osx-x64
                      os: macos-latest
                    - rid: win-x64
                      os: windows-latest
        steps:
            - name: clone repository
              uses: actions/checkout@v3
            - name: install dotnet
              uses: actions/setup-dotnet@v3
              with:
                dotnet-version: 7.0.x
            - name: run test
              run: dotnet build -r ${{matrix.rid}}